include "std/io"

fn gethexcc int -- int in
    dup 10 < if '0' +
    else 'a' + 10 - end 
end

memory ph_tmp_store 32 end

fn printhex int in
dup 1 < if drop return end
31 swap
while
    dup 15 and gethexcc
    rot swap
    dup swap rot ph_tmp_store cast(int) + cast(ptr) !
    1 -
    swap
    4 shr
    dup 1 <
    if drop 0 end
end  
drop dup 32 swap - ph_tmp_store cast(int) rot rot + cast(ptr) puts
end
