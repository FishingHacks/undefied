# This is the test thingi
# Testing your features will help
# Catch bugs :>

include "./once"
include "./once"
include "./once"
include "./multiple"
include "./multiple"
include "./multiple"

include "std/io"
include "std/str"
include "std/bool"
include "std/cli-args"
include "binaryparser"
include "hexparser"
include "std/all"
include "std/target"

inline fn helloWorld in
  "Hello, World!\n" puts
end

fn maina in
  "Supports: " puts __TARGET__ putu " (" puts __TARGET_SUPPORT__ puts ")\n" puts
  "Compilation Target: " puts __TARGET_STR__ puts "\n" puts
  helloWorld

  cli-args_setup
  11 10 + print
  
  "Exit\n" puts
  
  2 nthArg cstrToStr puts "\n" puts
  argc @ print
  
  4
  dup 1 = if  "one"
  else dup 2 = if* "two"
  else dup 3 = if* "three"
  else             "unknown"
  end puts drop

  "10" parseBinVal print
  "1001" parseBinVal print
  "11" parseBinVal print
  
  "f" parseHexVal print
  "ff" parseHexVal print
  "ffff" parseHexVal print

  "aaa" "aaa" streq printb
end

fn mainb in end

fn main in maina end